# 18. 行列式

对于任意方阵 $A$ 都有对应的行列式，称为矩阵的行列式，记作：

$$
det A \quad or \quad |A|
$$

## 1. 需要行列式

* 行列式 是求 **特征值** 的工具。
* 对于一个方阵，很难有一个概念将它的很多性质压缩到一起告诉人们。
    而行列式，**把关于方阵尽可能多的信息包含在其中**。
    （最简单的一个例子就是：**如果一个方阵的行列式为 0 ，那么该方阵不可逆**）

## 2. 行列式的性质

虽然说教授一直注重于启发，但是面对这些显然的结论或者性质，还是会直接提出来啊。

1. **[单位阵计算法]** $det I = 1$
2. **[行列式的行交换]** **交换**行列式中的**任意两行**，行列式的值变为其**相反数**。
3. **[行列式中的线性关系]** 如果一数 $t$ 同时乘 行列式中的任意一行，**而不改变其他行**，那么其行列式的值变为原来的 $t$ 倍。
    如果 **行列式中的一行** 被改变，那么等于原行列式的值 + 改变行列式的值
4. **[可逆性判定延伸（一）]** 如果一行列式有两行相同，那么行列式值为 0 。
5. **[高斯消元法性质]** 高斯消元法不变行列式值。
6. **[可逆性判定延伸（二）]** 若有一行全为 0，那么行列式值为 0。
7. **[行列式计算法]** 上三角阵的行列式值等于对角线元素乘积。
8. **[可逆性判定]** $det\ A = 0 \Leftrightarrow$ 矩阵 $A$ 可逆。
9. **[行列式可乘性]** $det\ AB =(det\ A)(det\ B)$
10. **[行列变换等价性]** $det\ A^T = det\ A$

### i. 置换矩阵

由(1.)(2.)，我们曾经定义过 **置换矩阵** 的概念，即：

* 左乘该矩阵，被作用矩阵对应的行被交换；
* 右乘该矩阵，被作用矩阵对应的列被交换。

那么，可以得出 **置换矩阵** $P$, 其行列式 $det P = 1\ or -1$

如果说 $det I = 1$, 那也就意味着：

$$
\begin{vmatrix}
1 & 0 \\
0 & 1 \\
\end{vmatrix}
=1, \qquad
\begin{vmatrix}
0 & 1 \\
1 & 0 \\
\end{vmatrix}
= -1
$$

（这样其实我们在 根本不知道如何计算行列式 的情况下，得到了一些置换矩阵的行列式）

### ii. 对十个性质的解释

#### a. 第一个性质

没啥好解释的。

#### b. 第二个性质

由这个性质，可以推出教授说的**第四个性质**：

```18
如果一行列式有两行相同，那么行列式值为 0 。
```

这个很好理解，如果有行列式 $det\ A$ 满足这个要求，那么 **交换了这相同的两行之后，行列式依旧和原来相同** 就有：

$$
det\ A = -det\ A
$$

自然得出 **行列式为 0** 的结论。

那么 **行列式为 0** 可以得出其他什么类似的结论呢？

* 还记得如果一个**方阵是不可逆**的，那么**行列式必定为 0**。
* 如果 $n$ 阶方阵的秩不为 n，那么**行列式必定为 0**。

#### c. 第三个性质

##### α. 性质的解释

行列式不具有线性关系。
但是行列式中的行却具有这个关系。

对于行列式 $det\ A, det\ B$：

$$
det\ A =
\begin{vmatrix}
a & b \\
c & d \\
\end{vmatrix},
\qquad
det\ B =
\begin{vmatrix}
a^{'} & b^{'} \\
c & d \\
\end{vmatrix}
$$

当行列式的其他行相同时，可以进行行列式的相加：

$$
det\ (A + B) =
\begin{vmatrix}
a+a^{'} & b+b^{'} \\
c & d \\
\end{vmatrix}
$$

但是需要注意的是：**当有一行以上的行不相同时，不能够做行列式的相加。**
我们可以这么理解，将 $n$ 阶行列式看作一个线性函数，那么若两个行列式 $n-1$ 行都相同，那就说明第一行可以看作线性函数，可以进行加法操作。

但是，如果有两行及两行以上的行不相同，那么就不可以进行相加。

##### β. 性质五的推导

**性质五：高斯消元法不变行列式值**。

高斯消元法主要体现在：
对任意一行 **加减** 其余一行的 **数乘、加减**，以及任意两行的 **交换** 不改变行列式值。

首先，交换不改变是性质二本身体现的。
其次，如果不改变行列式的值，那么由本性质，肯定就是 **加减** 了一个 **值为 0 的行列式**。
如下所示：

$$
\begin{vmatrix}
a_{11} & a_{12} & \cdots & a_{1n} \\
a_{21} - ka_{m1} & a_{22} - ka_{m2} & \cdots & a_{2n} - ka_{mn}\\
\vdots & \vdots & \ddots & \vdots \\
a_{n1} & a_{n2} & \cdots & a_{nn} \\
\end{vmatrix} =
\begin{vmatrix}
a_{11} & a_{12} & \cdots & a_{1n} \\
a_{21} & a_{22}  & \cdots & a_{2n} \\
\vdots & \vdots & \ddots & \vdots \\
a_{n1} & a_{n2} & \cdots & a_{nn} \\
\end{vmatrix} - k
\begin{vmatrix}
a_{11} & a_{12} & \cdots & a_{1n} \\
a_{m1} & a_{m2} & \cdots & a_{mn} \\
\vdots & \vdots & \ddots & \vdots \\
a_{n1} & a_{n2} & \cdots & a_{nn} \\
\end{vmatrix}
$$

（这里应用了 **性质三** 两次）
（显然可以看出，位于 **等式右侧减号后的行列式，值为 0。**，下面是完整的解释）

1. 对于行列式任意一行各元素 同时乘k ，但 **原行列式有两行相同** ，**原行列式值为 0**（0 * k = 0） 。
2. 对于两个 $n$ 阶行列式，二者只有 $n-1$ 行完全相同，则可以线性运算。

有了高斯消元法的证明，我们可以保证：

```18
任意一个方阵，都可以转化为上三角阵。
```

从而得到有关 **秩，可逆性，列向量线性相关性** 等一系列的信息。

##### γ. 性质六的推导

**性质六：若有一行全为 0，那么行列式值为 0**。

由**性质五**，可以把**除全零行之外**的**任意**一行，**原封不动**加到全零行上，那么便有**两行完全相同**了！

而性质五的过程，是不变行列式值的过程。所以原行列式值也为 0。

由此，我们可以得到之前得到过的一些结论呢：

* 如果行列式值为 0，说明秩肯定小于 $n$。
* 如果行列式值为 0，行列式可以转化为 **至少** 有一行全为 0 的行列式。
* 如果行列式不可逆，肯定行列式可以转化为 **至少** 有一行全为 0 的行列式。

#### d. 性质七的推导

**性质七：上三角阵的行列式值等于对角线元素乘积**。

我们现在给出一个上三角阵 $U$：

$$
det\ U =
\begin{vmatrix}
a_{11} & a_{12} & \cdots & a_{1n} \\
0 & a_{22} & \cdots & a_{2n} \\
\vdots & \vdots & \ddots & \vdots \\
0 & 0 & \cdots & a_{nn} \\
\end{vmatrix}
$$

那么，根据性质五——高斯消元，对这个上三角阵进行消元。
肯定可以把上三角阵转化为对角阵 $D$：

$$
det\ D =
\begin{vmatrix}
a_{11} & 0 & \cdots & 0 \\
0 & a_{22} & \cdots & 0 \\
\vdots & \vdots & \ddots & \vdots \\
0 & 0 & \cdots & a_{nn} \\
\end{vmatrix}
$$

根据性质三，可以对每行提出系数 $a_{ii}$。
之后再根据性质一，计算单位阵：

$$
det\ D = \prod_{i = 1}^{n}a_{ii}
\begin{vmatrix}
1 & 0 & \cdots & 0 \\
0 & 1 & \cdots & 0 \\
\vdots & \vdots & \ddots & \vdots \\
0 & 0 & \cdots & 1 \\
\end{vmatrix}
= \prod_{i = 1}^{n}a_{ii}\ (det\ I)
= \prod_{i = 1}^{n}a_{ii}
$$

对于性质七，还有其他的思考：

```18
如果有全零行，那么经过性质二进行“行交换”后得到的矩阵——
由于存在全零行，所以必存在对角元素为 0 的行。
那么行列式为 0。
（使用性质七，验证了性质六）
```

由此可以得到性质八

#### e. 性质八的推导

**性质八：$det\ A = 0 \Leftrightarrow$ 矩阵 $A$ 可逆**。

事实上，之前说过，如果一个矩阵可逆，那么他主元的个数肯定为 0。

#### f. 性质九

**性质九：$det\ AB =(det\ A)(det\ B)$**

##### α. 特殊行列式

不证了，太麻烦了。
直接说应用吧，那么通过性质九，我们就可以得到很多特殊行列式的值：

$$
det\ A^{-1} = \frac{1}{det\ A}, \quad det\ A^2 = (det\ A)^2, \quad det\ 2A = 2^n det\ A
$$

* 对于第一个等式，我们可以知道：
    如果一个方阵行列式为 0，那么其逆矩阵行列式为 $\infty$，所以不存在逆矩阵，**不可逆**。
* 对于第三个等式，教授以**求体积**作比。
    如果一个 $n$ 维立方体，其每条边都扩大两倍，那么最后立方体的体积会扩大 $2^n$ 倍。

##### β. lim freq of Markov Chain

同时由第二个等式，我们或许就可以推出一个事实:

如果有矩阵 $A^n$, 那么其行列式的值，要么为 0， 要么为无穷大。（暂且不看正负号）

* 当行列式为 0 时，说明 $det\ A \in (0, 1)$
* 当行列式无穷时，说明 $det\ A \in (1, +\infty)$

我们将 $A^n$ 进行高斯消元，那么就可以得知，**如果行列式为 0，说明 $A^n$ 一定存在一行为全零行。**
如果只进行一部分高斯消元步骤，那么矩阵 $A^n$ 必定存在两行完全相同。（或者两列）

现在我们将原矩阵 $A$ 中的所有元素都视为 **概率**，那么每个元素 $a_{ij} \in (0,1)$，进行高斯消元后得到的矩阵，其行列式也会小于 1，最终：

$$
\lim_{n \to +\infty} det\ A^n = 0
$$

没记错的话，这也就是马尔科夫链极限频率的由来。

#### g. 性质十的推导

**性质十：$det\ A^T = det\ A$**。

对于一个方阵 $A$, 都可以进行 LU分解，使得：$A = LU$。
进行转置的话，利用转置的性质，就是：$A^T = U^TL^T$。
但是我们知道：

$$
\begin{cases}
|U| = |U^T| \\
|L| = |L^T| \\
\end{cases}
（由上下三角矩阵和性质七）
$$

而，$|A| = |L||U|, |A^T| = |U^T||L^T|$，（性质三 或 结合性质五的性质一）
所以有：$det\ A = det\ A^T$

正是这个性质，使得所谓的 **“行列式变换中行和列等价”** 这个说法成立。
它是行列式中行列等价的表现和来源。

对于任何一行的变换，都可以通过这个性质转化为对列的变换。

## 3. 二阶行列式的计算

**[对角线法则]** 对于任意二阶行列式，其值都有：

$$
\begin{vmatrix}
a & b \\
c & d \\
\end{vmatrix}
= ad - bc
$$

## 4. 久 等 了

```18
"OK, one more coming, which I have to make..."
"because all math professors watching this will be waiting for it."
                                                    —— Gilbert Strang
```

我笑出了声。

这个 “久 等 了” 的内容有关于行列式变换。
根据一开始提到的置换矩阵的取值 和 性质二，我们或许可以把所有变换定义为两种，一类是令行列式变号的，一类是令行列式保持符号不变的。

假定有不同的两种运算对 **同一方阵** 作用，且这两种运算令行列式变号次数一个为奇数次，一个为偶数次。
如果这两种不同运算作用同一方阵，最后得到的结果相同，

那么就如教授所说的：

```18
"If that were possible, that would be a bad thing, right?"
```
